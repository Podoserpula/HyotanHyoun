"use client"
import { motion, AnimatePresence } from "framer-motion";
import React, { useState } from "react";


const eyeShapes = [
  {
    id: 1,
    title: "ノーマルひょうんアイズ",
    svg: (<svg width="37" height="55" viewBox="0 0 37 55" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M18.2292 53.6692C24.0826 53.6692 28.2318 52.7737 31.0444 51.2697C33.8776 49.7549 35.3457 47.6251 35.807 45.23C36.2635 42.8601 35.7234 40.2908 34.6705 37.8805C33.6155 35.4652 32.0278 33.1673 30.3266 31.3176C28.7227 29.5739 28.0294 27.8935 27.8628 26.2506C27.6948 24.5941 28.0575 22.9313 28.6444 21.2178C28.9375 20.362 29.283 19.5031 29.6408 18.6306C29.692 18.5056 29.7435 18.3802 29.7952 18.2546C30.1024 17.5073 30.4141 16.7492 30.698 15.9882C31.361 14.2111 31.8927 12.3683 31.8927 10.4674C31.8927 6.6893 30.4035 4.15342 27.8903 2.59226C25.4192 1.0572 22.0152 0.5 18.2292 0.5C14.3676 0.5 11.0747 1.15886 8.73447 2.75184C6.36017 4.36804 5.03225 6.90058 5.03225 10.4674C5.03225 12.2583 5.47161 13.977 6.00108 15.6466C6.17514 16.1955 6.35726 16.7347 6.53808 17.2701C6.91548 18.3876 7.28719 19.4883 7.56806 20.6242C7.97852 22.2843 8.17534 23.9564 7.87581 25.7074C7.57693 27.4547 6.7777 29.3156 5.14329 31.3422C1.7332 35.5708 -0.286974 41.1289 1.26786 45.6998C2.8468 50.3416 7.99082 53.6692 18.2292 53.6692Z" fill="white" stroke="#0D0D0D" />
      <path d="M12.2437 13.7653C13.7021 13.7653 15.0461 13.515 16.0442 13.0909C16.5422 12.8792 16.9775 12.6143 17.2956 12.2947C17.6157 11.9731 17.8418 11.5684 17.8418 11.0987C17.8418 10.629 17.6157 10.2243 17.2956 9.90265C16.9775 9.58305 16.5422 9.3182 16.0442 9.10653C15.0461 8.68238 13.7021 8.43213 12.2437 8.43213C10.7852 8.43213 9.44122 8.68238 8.44316 9.10653C7.94508 9.3182 7.50985 9.58305 7.19176 9.90265C6.87164 10.2243 6.64551 10.629 6.64551 11.0987C6.64551 11.5684 6.87164 11.9731 7.19176 12.2947C7.50985 12.6143 7.94508 12.8792 8.44316 13.0909C9.44122 13.515 10.7852 13.7653 12.2437 13.7653Z" fill="white" stroke="#0D0D0D" />
      <ellipse cx="12.2441" cy="11.1292" rx="2.47624" ry="2.86841" fill="#0D0D0D" />
      <path d="M25.353 13.7653C26.8115 13.7653 28.1555 13.515 29.1535 13.0909C29.6516 12.8792 30.0868 12.6143 30.4049 12.2947C30.725 11.9731 30.9512 11.5684 30.9512 11.0987C30.9512 10.629 30.725 10.2243 30.4049 9.90265C30.0868 9.58305 29.6516 9.3182 29.1535 9.10653C28.1555 8.68238 26.8115 8.43213 25.353 8.43213C23.8946 8.43213 22.5506 8.68238 21.5525 9.10653C21.0545 9.3182 20.6192 9.58305 20.3011 9.90265C19.981 10.2243 19.7549 10.629 19.7549 11.0987C19.7549 11.5684 19.981 11.9731 20.3011 12.2947C20.6192 12.6143 21.0545 12.8792 21.5525 13.0909C22.5506 13.515 23.8946 13.7653 25.353 13.7653Z" fill="white" stroke="#0D0D0D" />
      <ellipse cx="25.3532" cy="11.1292" rx="2.47624" ry="2.86841" fill="#0D0D0D" />
    </svg>

    )
  },
  {
    id: 2,
    title: "くびれすぎひょうん",
    svg: (<svg width="300" height="300" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M18.9999 23.5C18.9999 21.3352 19.5091 19.8043 20.2511 18.6258C20.9989 17.4381 22.0026 16.5759 23.0537 15.7722C23.2637 15.6116 23.4774 15.4527 23.6918 15.2932C25.5677 13.8982 27.5 12.4613 27.5 9.5C27.5 6.31549 25.9746 4.04636 23.9041 2.59095C21.8508 1.14757 19.2615 0.5 17.0611 0.5C14.9024 0.5 12.2786 0.88027 10.1784 2.20181C8.04269 3.54569 6.50035 5.83261 6.50035 9.5C6.50035 11.3676 7.07287 12.6975 7.941 13.7614C8.70369 14.6961 9.69344 15.4191 10.6424 16.1123C10.7469 16.1886 10.8508 16.2645 10.9539 16.3403C12.0149 17.1205 13.0147 17.9058 13.7592 18.9934C14.4942 20.0671 14.9999 21.4668 14.9999 23.5C14.9999 25.6003 14.6855 26.6416 14.2164 27.2376C13.7506 27.8292 13.0653 28.0772 11.9837 28.3953C11.9131 28.4161 11.8413 28.4371 11.7682 28.4584C10.7485 28.7561 9.48681 29.1244 8.07329 29.9603C6.55503 30.8581 4.88157 32.2816 3.09698 34.7034C1.47806 36.9004 0.710369 39.1577 0.702214 41.3184C0.694057 43.4798 1.44627 45.5093 2.80761 47.246C5.52444 50.7119 10.647 53 17.0611 53C23.9728 53 29.3752 50.9792 32.2828 47.6409C33.7427 45.9648 34.5643 43.964 34.6188 41.7545C34.6732 39.5497 33.9634 37.1726 32.4227 34.733C30.8794 32.2896 29.2227 30.8832 27.5935 30.0192C26.0536 29.2026 24.5586 28.8837 23.2953 28.6143C23.2311 28.6006 23.1676 28.5871 23.1047 28.5736C21.7643 28.2864 20.7876 28.0398 20.1101 27.3955C19.4589 26.7762 18.9999 25.6941 18.9999 23.5Z" fill="white" stroke="#0D0D0D" />

    </svg>)
  },
  {
    id: 3,
    title: "まくらひょうん",
    svg: (<svg width="300" height="300" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M15.5 55.5C18.8622 55.5 21.3932 54.7752 23.2848 53.5076C25.179 52.2384 26.3864 50.4555 27.1541 48.4227C28.5344 44.7676 28.5177 40.2137 28.503 36.2C28.5015 35.794 28.5 35.3935 28.5 35V12.5C28.5 8.72582 26.9331 5.70823 24.3798 3.64442C21.8369 1.589 18.3438 0.5 14.5 0.5C10.5809 0.5 7.21474 1.68516 4.82101 3.78966C2.42192 5.89888 1.03212 8.90449 1.03212 12.4674C1.03212 14.5063 1.03213 16.3533 1.03214 18.2321C1.03216 22.6647 1.03219 27.2744 1.03208 35C1.03208 35.1966 1.03199 35.3927 1.0319 35.5882C1.03076 38.1203 1.02965 40.5641 1.21528 42.8069C1.41526 45.2232 1.8344 47.4478 2.72813 49.3387C3.62792 51.2423 5.00389 52.7966 7.08619 53.8666C9.15691 54.9307 11.8949 55.5 15.5 55.5Z" fill="white" stroke="#0D0D0D" />
    </svg>)
  },
  {
    id: 4,
    title: "砂時計ひょうん",
    svg: (<svg width="300" height="300" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M18.2297 49.5C26.1825 49.5 31.1338 48.6233 33.9429 47.1276C35.3612 46.3724 36.2697 45.44 36.7152 44.3506C37.1602 43.2625 37.1139 42.0893 36.7622 40.9085C36.0673 38.5756 34.1336 36.0611 32.0201 33.7198C30.9554 32.5403 29.8286 31.3877 28.7641 30.3076C28.6364 30.1781 28.5097 30.0496 28.384 29.9223C27.4593 28.985 26.5964 28.1104 25.868 27.3184C24.315 25.6299 24.0184 23.9143 24.4199 22.1739C24.8313 20.3905 25.9824 18.5601 27.3924 16.7227C28.0934 15.8092 28.8471 14.9078 29.5907 14.0186L29.5915 14.0175L29.5918 14.0172C30.3327 13.1312 31.0649 12.2555 31.709 11.4076C32.3527 10.5603 32.9206 9.72508 33.3288 8.91558C33.7358 8.10834 34 7.29563 34 6.50009C34 4.9933 33.4704 3.82663 32.5282 2.95362C31.6042 2.09749 30.3174 1.55464 28.8465 1.20137C25.9262 0.49999 22.0617 0.499995 18.2788 0.5H18.2297H18.2294L18.1746 0.5C14.3969 0.499975 10.6653 0.499951 7.87763 1.20265C6.47073 1.55729 5.2491 2.10306 4.376 2.96436C3.48742 3.84093 3 5.00488 3 6.50002C3 8.05728 3.9596 9.66645 5.13781 11.2521C5.68955 11.9946 6.31011 12.7578 6.9387 13.5308C6.99224 13.5966 7.04583 13.6626 7.09944 13.7285C7.78567 14.573 8.47798 15.4313 9.11678 16.3091C10.3997 18.0721 11.4291 19.8649 11.75 21.6941C12.0652 23.4913 11.7044 25.367 10.1108 27.3431C9.50943 28.0887 8.8419 28.8828 8.14937 29.7067C6.93659 31.1494 5.64711 32.6834 4.50194 34.2084C2.70343 36.6036 1.16559 39.0938 0.765227 41.3679C0.562366 42.5202 0.646747 43.642 1.15825 44.6681C1.66925 45.6931 2.58016 46.5697 3.93489 47.2803C6.6212 48.6893 11.157 49.5 18.2297 49.5Z" fill="white" stroke="#0D0D0D" />
    </svg>)
  },
  {
    id: 5,
    title: "達磨ひょうん",
    svg: (<svg width="300" height="300" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M23.2291 55C34.2226 55 41.1116 51.2084 44.3288 46.0132C47.5443 40.8207 47.0082 34.3541 43.4096 29.2133C39.9262 24.237 38.4657 21.0468 37.8615 18.5053C37.395 16.5428 37.4321 14.9618 37.4743 13.1654C37.487 12.6244 37.5001 12.0638 37.5001 11.4674C37.5001 8.74054 35.8106 6.11594 33.2285 4.1953C30.6372 2.26772 27.0895 1 23.2291 1C19.2864 1 15.9883 2.42005 13.6718 4.43084C11.3659 6.43245 9.99988 9.05244 9.99988 11.4674C9.99988 11.7736 10.0021 12.0715 10.0043 12.3641C10.0183 14.2299 10.0306 15.8815 9.45347 18.0954C8.78409 20.663 7.31315 24.0055 4.07486 29.2368C0.743802 34.6181 0.312698 41.0702 3.37959 46.1943C6.45206 51.3277 12.955 55 23.2291 55Z" fill="white" stroke="#0D0D0D" />

    </svg>)
  },

]

export default function ImageSwap() {
  const [selectedShape, setSlectedShape] = useState(eyeShapes[0]);
  const [direction, setDirection] = useState(0);

  const handleShapeSelect = (image: (typeof eyeShapes)[0], index: number) => {
    const currentIndex = eyeShapes.findIndex((img) => img.id === selectedShape.id)
    setDirection(index > currentIndex ? 1 : -1)
    setSlectedShape(image)
  }


  return (
    <div className="flex flex-col space-y-4">

      {/* プレビュー */}
      <div className="relative w-full aspect-square bg-white rounded-lg border border-gray-200 overflow-hidden">
        <AnimatePresence mode="wait" initial={false}>
          <motion.div
            key={selectedShape.id}
            className="w-full h-full "
            initial={{ opacity: 0, x: direction * 50 }}
            animate={{ opacity: 1, x: 0 }}
            exit={{ opacity: 0, x: direction * -50 }}
            transition={{ duration: 0.3, ease: "easeInOut" }}
          >
            {selectedShape.svg}
          </motion.div>
        </AnimatePresence>
      </div>


      {/* 選択 */}

      <div className="flex justify-center ">
        <div className="flex space-x-2 overflow-x-auto py-2 px-1 max-w-full">
          {eyeShapes.map((image, index) => (
            <button
              key={image.id}
              onClick={() => handleShapeSelect(image, index)}
              className={`relative flex-shrink-0 w-16 h-16 rounded border-2 transition-all duration-200 ${selectedShape.id === image.id ? "border-blue-500 scale-105" : "border-gray-200 hover:border-gyay-300"}`}
              aria-label={`画像${image.title}を選択`}
            >
              <div className="flex justify-center items-center w-full h-full">{image.svg}</div>
            </button>
          ))}
        </div>
      </div>

      <div className="text-center mt-2">
        <h2 className="text-lg font-medium">{selectedShape.title}</h2>
      </div>
    </div>
  );
}




